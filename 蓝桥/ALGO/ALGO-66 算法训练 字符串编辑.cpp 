#include <iostream>
#include <string>
using namespace std;
int main() {
    string s, ans;
    char c, ch, ch1, ch2;
    getline(cin, s);
    cin >> c;
    if (c == 'D') {
        cin >> ch;
        int i;
        for (i = 0; i < s.length(); i++) {
            if (s[i] == ch) {
                i++;
                break;
            } else {
                ans += s[i];
            }
        }
        for (; i < s.length(); i++)
            ans += s[i];
    } else if (c == 'I') {
        cin >> ch1 >> ch2;
        int i;
        for (i = s.length() - 1; i >= 0; i--) {
            ans = s[i] + ans;
            if (s[i] == ch1) {
                ans = ch2 + ans;
                i--;
                break;
            }
        }
        for (; i >= 0; i--)
            ans = s[i] + ans;
    } else {
        cin >> ch1 >> ch2;
        for (int i = 0; i < s.length(); i++) {
            if (s[i] == ch1) s[i] = ch2;
            ans += s[i];
        }
    }
    cout << ans << endl;
    return 0;
}
